import matplotlib.pyplot as plt

# Data
features = [
    'Headerlength', '/JS', 'Malicecontent', '/JavaScript', 'Filesize_kb', 
    '/Size', '/ProcSet', '/Producer', 'startxref', 'Metadata Stream:', 
    '%EOF', '/Info', '/CreationDate', '/Font', '/XFA'
]
importance = [
    0.251051669, 0.101122723, 0.089984456, 0.087672272, 0.087212794, 
    0.042970165, 0.041856726, 0.034495372, 0.034230706, 0.025014914, 
    0.024563078, 0.02252169, 0.019764671, 0.018742902, 0.016401823
]

# Sort features and importance values by importance
sorted_indices = sorted(range(len(importance)), key=lambda i: importance[i], reverse=True)
sorted_features = [features[i] for i in sorted_indices]
sorted_importance = [importance[i] for i in sorted_indices]

# Create the plot
fig, ax = plt.subplots()

# Colors to match the image
colors = ['#FF5733', '#33FF57', '#3385FF', '#6E33FF', '#FFC300'] + ['#D3D3D3']*10

# Horizontal bar chart
bars = ax.barh(sorted_features, sorted_importance, color=colors)

# Add data labels
for bar in bars:
    width = bar.get_width()
    ax.text(width + 0.005, bar.get_y() + bar.get_height() / 2, f'{width:.9f}', va='center')

# Set labels and title
ax.set_xlabel('Feature Importance')
ax.set_ylabel('Top Features')
ax.set_title('Feature Importance of Top Features of Final Feature Set')

# Invert y-axis to have the highest importance on top
ax.invert_yaxis()

# Show the plot
plt.show()
